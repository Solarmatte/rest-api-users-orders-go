# Используем golang 1.24 образ как базовый
FROM golang:1.24

# Рабочая директория в контейнере
WORKDIR /app

# Копируем весь проект внутрь
COPY . .

# Загружаем зависимости
RUN go mod download

# Собираем главный бинарь из ./cmd
RUN go build -o main ./cmd

# Команда запуска приложения
CMD ["./main"]
